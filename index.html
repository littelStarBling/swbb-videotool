<!DOCTYPE html>
  <html lang="nl">
    <head>
      <meta keyword="swbb, buger, videochat, wertc">
      <meta discription="swbb videotool"> 
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Realtime communication with WebRTC</title>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
      <link rel="stylesheet" href="css/main.css" />
      <link rel="icon" href="./image/logo-sm.png" type="image/png" sizes="16x16">
      <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

    </head>

    <body>
        <!-- Buttons start-->
        <form name="rn" >
          <input class="g-bg mr-3" type="text" name="tb" id="input"/>
          <button id="generate-button" onclick="generateNumber()" type="button" class="btn btn-primary my-2  mr-3" >Nummer creÃ«ren</button>
          <button id="start-button" onclick="showModal()" type="button" class="btn btn-primary my-2" >Start</button>
        </form>
        <!-- Buttons end-->
            
        <iframe allow="camera;microphone" id="apprtcframe" style="display: none; position: fixed; top: 0; left: 0; bottom: 0; right: 0; width: 100%; height: 100%; border: none; margin: 0; padding: 0; overflow: hidden; z-index: 9;" src="https://appr.tc/"></iframe>
        <form action="https://google.com" style="z-index: 999;" target="_blank">
          <input type="submit" value="Go to Google" />
      </form>
      <!--bootstrap cdn start-->
      <script type="text/javascript">
        var frame = document.getElementById("apprtcframe")

        function generateNumber(){
          document.getElementById("input").value = Math.floor(Math.random() * (9999999-1000000) + 1000000);
        }
        
        function showModal(){
          frame.style.display = "block";
            window.frames[0].location = "https://appr.tc/r/" + document.getElementById("input").value;
            window.history.pushState({id:1}, null, "?q=videochart");
        };

        document.getElementById('apprtcframe').contentWindow.history.back(-1);
        window.addEventListener("popstate", detectHistory);
        
        function detectHistory(){
          frame.style.display = "none";
        }

        Uncaught DOMException: Blocked a frame with origin "null" from accessing a cross-origin frame.
        document.getElementById('iframe').contentWindow.history.back(-1);


        if (window.history && window.history.pushState) {
        };

        window.onbeforeunload = function (e) {
}
      </script>
      <!--bootstrap cdn end-->
    </body>
  </html>